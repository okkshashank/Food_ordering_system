<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body style="font-family:'Poppins', sans-serif; background:#fafafa;">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg shadow-sm bg-white">
  <div class="container">
    <a class="navbar-brand fw-bold">Slice & Sauce ğŸ•</a>
    <div>
      <a href="/" class="nav-link d-inline">Home</a>
      <a href="/logout" class="btn btn-orange">Logout</a>
    </div>
  </div>
</nav>

<!-- HEADER -->
<div class="container mt-4">
  <h2 class="fw-bold mb-4">System Overview ğŸ“Š</h2>

  <div class="row">

    <div class="col-md-3">
      <div class="dashboard-card text-center">
        <h3>{{ total_orders }}</h3>
        <p class="text-muted">Total Orders</p>
      </div>
    </div>

    <div class="col-md-3">
      <div class="dashboard-card text-center">
        <h3>{{ total_users }}</h3>
        <p class="text-muted">Users</p>
      </div>
    </div>

    <div class="col-md-3">
      <div class="dashboard-card text-center">
        <h3>{{ preparing }}</h3>
        <p class="text-muted">Preparing</p>
      </div>
    </div>

    <div class="col-md-3">
      <div class="dashboard-card text-center">
        <h3>{{ delivered }}</h3>
        <p class="text-muted">Delivered</p>
      </div>
    </div>

  </div>
</div>

<!-- ORDERS TABLE -->
<div class="container mt-5">

<h4 class="fw-bold mb-3">Manage Orders</h4>

<div class="card p-4 shadow-sm">
<table class="table align-middle">

<thead class="table-light">
<tr>
  <th>ID</th>
  <th>User</th>
  <th>Item</th>
  <th>Qty</th>
  <th>Payment</th>
  <th>Status</th>
  <th>Update</th>
</tr>
</thead>

<tbody>
{% for order in orders %}
<tr>

<td>#{{ order[0] }}</td>
<td>{{ order[1] }}</td>
<td>{{ order[2] }}</td>
<td>{{ order[3] }}</td>

<!-- PAYMENT -->
<td>
  <strong>{{ order[5] }}</strong><br>
  {% if order[6] == "Paid" %}
    <span class="badge bg-success">Paid</span>
  {% else %}
    <span class="badge bg-warning text-dark">Pending</span>
  {% endif %}
</td>

<!-- STATUS -->
<td>
  {% if order[7] == "Preparing" %}
    <span class="badge bg-warning text-dark">Preparing</span>
  {% elif order[7] == "Out for Delivery" %}
    <span class="badge bg-info">Out for Delivery</span>
  {% else %}
    <span class="badge bg-success">Delivered</span>
  {% endif %}
</td>

<!-- UPDATE -->
<td>
<form method="POST" action="/update_status">
  <input type="hidden" name="order_id" value="{{ order[0] }}">

  <select name="status" class="form-select mb-2">
    <option>Preparing</option>
    <option>Out for Delivery</option>
    <option>Delivered</option>
  </select>

  <button class="btn btn-orange btn-sm w-100">
    Update
  </button>
</form>
</td>

</tr>
{% endfor %}
</tbody>

</table>
</div>
</div>

<!-- FOOTER -->
<footer style="background:#111; color:white;" class="p-4 text-center mt-5">
Slice & Sauce Â© 2026
Good food ğŸ•. Great mood ğŸ˜‹. Every bite â¤ï¸.
</footer>

</body>
</html>
